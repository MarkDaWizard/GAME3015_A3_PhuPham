\hypertarget{_game_8h_source}{}\doxysection{Game.\+h}
\label{_game_8h_source}\index{GAME3015\_A3\_PhuPham/Game.h@{GAME3015\_A3\_PhuPham/Game.h}}
\mbox{\hyperlink{_game_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{2 }
\DoxyCodeLine{3 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_world_8h}{World.h}}"{}}}
\DoxyCodeLine{4 \textcolor{preprocessor}{\#include <functional>}}
\DoxyCodeLine{5 \textcolor{preprocessor}{\#include <queue>}}
\DoxyCodeLine{6 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_state_stack_8h}{StateStack.h}}"{}}}
\DoxyCodeLine{7 }
\DoxyCodeLine{8 \textcolor{keyword}{class }\mbox{\hyperlink{class_render_item}{RenderItem}}}
\DoxyCodeLine{9 \{}
\DoxyCodeLine{10 \textcolor{keyword}{public}:}
\DoxyCodeLine{11     \mbox{\hyperlink{class_render_item_ad6c4cbd7fea14ab4b71bd3be38208487}{RenderItem}}() = \textcolor{keywordflow}{default};}
\DoxyCodeLine{12     XMFLOAT4X4 \mbox{\hyperlink{class_world}{World}} = \mbox{\hyperlink{class_math_helper_a68b4e9af95b1a36aad30ea80839f6b19}{MathHelper::Identity4x4}}();}
\DoxyCodeLine{13     XMFLOAT4X4 \mbox{\hyperlink{class_render_item_ac6799548474209d172cbb3d337f56074}{TexTransform}} = \mbox{\hyperlink{class_math_helper_a68b4e9af95b1a36aad30ea80839f6b19}{MathHelper::Identity4x4}}();}
\DoxyCodeLine{14     \textcolor{keywordtype}{int} \mbox{\hyperlink{class_render_item_aca6ae2de91638af530fd5ce91fea3306}{NumFramesDirty}} = 3;}
\DoxyCodeLine{15     UINT \mbox{\hyperlink{class_render_item_a4a4015284acd79469b70c358b6c1c2a1}{ObjCBIndex}} = -\/1;}
\DoxyCodeLine{16     \mbox{\hyperlink{struct_material}{Material}}* \mbox{\hyperlink{class_render_item_a356068fffd78f172c796d44fe02d08d2}{Mat}} = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{17     \mbox{\hyperlink{struct_mesh_geometry}{MeshGeometry}}* \mbox{\hyperlink{class_render_item_a7e4ddbefdc41b7efcad3c3a4b0ceccd9}{Geo}} = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{18     D3D12\_PRIMITIVE\_TOPOLOGY \mbox{\hyperlink{class_render_item_ab3aad9050526250c4877956789e50b3a}{PrimitiveType}} = D3D11\_PRIMITIVE\_TOPOLOGY\_TRIANGLELIST;}
\DoxyCodeLine{19     UINT \mbox{\hyperlink{class_render_item_ad95fafa012c0d99c216b998f11207e38}{IndexCount}} = 0;}
\DoxyCodeLine{20     UINT \mbox{\hyperlink{class_render_item_a979179c6dd354cd329563e3599245463}{StartIndexLocation}} = 0;}
\DoxyCodeLine{21     \textcolor{keywordtype}{int} \mbox{\hyperlink{class_render_item_a3750ef7b2791ea922df46e222649f3dc}{BaseVertexLocation}} = 0;}
\DoxyCodeLine{22 \};}
\DoxyCodeLine{23 }
\DoxyCodeLine{24 \textcolor{keyword}{enum class} \mbox{\hyperlink{_game_8h_aa63ede3e7371d4bc358f651428d23159}{RenderLayer}} : \textcolor{keywordtype}{int}}
\DoxyCodeLine{25 \{}
\DoxyCodeLine{26     \mbox{\hyperlink{_game_8h_aa63ede3e7371d4bc358f651428d23159afaa90538de35640e4b1e31ccf35b6eb5}{Opaque}} = 0,}
\DoxyCodeLine{27     \mbox{\hyperlink{_game_8h_aa63ede3e7371d4bc358f651428d23159a3d971943089a3388c01fb297a32d9ba7}{Transparent}},}
\DoxyCodeLine{28     \mbox{\hyperlink{_game_8h_aa63ede3e7371d4bc358f651428d23159a0627db3fa05f110738a259ea9a97a225}{AlphaTested}},}
\DoxyCodeLine{29     \mbox{\hyperlink{_game_8h_aa63ede3e7371d4bc358f651428d23159ae93f994f01c537c4e2f7d8528c3eb5e9}{Count}}}
\DoxyCodeLine{30 \};}
\DoxyCodeLine{31 }
\DoxyCodeLine{32 \textcolor{keyword}{class }\mbox{\hyperlink{class_game}{Game}} : \textcolor{keyword}{public} \mbox{\hyperlink{class_d3_d_app}{D3DApp}}}
\DoxyCodeLine{33 \{}
\DoxyCodeLine{34 \textcolor{keyword}{public}:}
\DoxyCodeLine{35     \mbox{\hyperlink{class_game_a3f68a62a1fe1ca8dcd1deb054b384cef}{Game}}(HINSTANCE hInstance);}
\DoxyCodeLine{36     \mbox{\hyperlink{class_game_a293c79673d4c15f55f1ab7f3d1809ddb}{Game}}(\textcolor{keyword}{const} \mbox{\hyperlink{class_game}{Game}}\& rhs) = \textcolor{keyword}{delete};}
\DoxyCodeLine{37     \mbox{\hyperlink{class_game}{Game}}\& \mbox{\hyperlink{class_game_a9bda5763ea460634fef947be2530c8f5}{operator=}}(\textcolor{keyword}{const} \mbox{\hyperlink{class_game}{Game}}\& rhs) = \textcolor{keyword}{delete};}
\DoxyCodeLine{38     \mbox{\hyperlink{class_game_ae3d112ca6e0e55150d2fdbc704474530}{\string~Game}}();}
\DoxyCodeLine{39 }
\DoxyCodeLine{40     \textcolor{keyword}{virtual} \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_game_a16354d232327f6c21319713bf6983674}{Initialize}}()\textcolor{keyword}{override};}
\DoxyCodeLine{41 }
\DoxyCodeLine{42 \textcolor{keyword}{private}:}
\DoxyCodeLine{43     \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} OnResize()\textcolor{keyword}{override};}
\DoxyCodeLine{44     \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} Update(\textcolor{keyword}{const} \mbox{\hyperlink{class_game_timer}{GameTimer}}\& gt)\textcolor{keyword}{override};}
\DoxyCodeLine{45     \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} Draw(\textcolor{keyword}{const} \mbox{\hyperlink{class_game_timer}{GameTimer}}\& gt)\textcolor{keyword}{override};}
\DoxyCodeLine{46 }
\DoxyCodeLine{47     \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} OnMouseDown(WPARAM btnState, \textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} y)\textcolor{keyword}{override};}
\DoxyCodeLine{48     \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} OnMouseUp(WPARAM btnState, \textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} y)\textcolor{keyword}{override};}
\DoxyCodeLine{49     \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} OnMouseMove(WPARAM btnState, \textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} y)\textcolor{keyword}{override};}
\DoxyCodeLine{50 }
\DoxyCodeLine{51     \textcolor{keywordtype}{void} ProcessInput();}
\DoxyCodeLine{52     \textcolor{keywordtype}{void} OnKeyboardInput(\textcolor{keyword}{const} \mbox{\hyperlink{class_game_timer}{GameTimer}}\& gt);}
\DoxyCodeLine{53     \textcolor{keywordtype}{void} UpdateCamera(\textcolor{keyword}{const} \mbox{\hyperlink{class_game_timer}{GameTimer}}\& gt);}
\DoxyCodeLine{54     \textcolor{keywordtype}{void} UpdateObjectCBs(\textcolor{keyword}{const} \mbox{\hyperlink{class_game_timer}{GameTimer}}\& gt);}
\DoxyCodeLine{55     \textcolor{keywordtype}{void} UpdateMaterialCBs(\textcolor{keyword}{const} \mbox{\hyperlink{class_game_timer}{GameTimer}}\& gt);}
\DoxyCodeLine{56     \textcolor{keywordtype}{void} UpdateMainPassCB(\textcolor{keyword}{const} \mbox{\hyperlink{class_game_timer}{GameTimer}}\& gt);}
\DoxyCodeLine{57 }
\DoxyCodeLine{58     \textcolor{keywordtype}{void} helpBuildSubMesh(\mbox{\hyperlink{struct_geometry_generator_1_1_mesh_data}{GeometryGenerator::MeshData}} name, \mbox{\hyperlink{struct_submesh_geometry}{SubmeshGeometry}}\& subName, UINT nameVertexOffset, UINT nameIndexOffset);}
\DoxyCodeLine{59 }
\DoxyCodeLine{63     \textcolor{keywordtype}{void} LoadTextures();}
\DoxyCodeLine{64     \textcolor{keywordtype}{void} LoadTex(std::string name, std::wstring path);}
\DoxyCodeLine{65     \textcolor{keywordtype}{void} BuildRootSignature();}
\DoxyCodeLine{66     \textcolor{keywordtype}{void} BuildDescriptorHeaps();}
\DoxyCodeLine{67     \textcolor{keywordtype}{void} BuildShadersAndInputLayout();}
\DoxyCodeLine{68 }
\DoxyCodeLine{72     \textcolor{keywordtype}{void} BuildShapeRenderItems();}
\DoxyCodeLine{73     \textcolor{keywordtype}{void} BuildPSOs();}
\DoxyCodeLine{74     \textcolor{keywordtype}{void} BuildFrameResources();}
\DoxyCodeLine{75     \textcolor{keywordtype}{void} BuildMaterials();}
\DoxyCodeLine{76 }
\DoxyCodeLine{77     std::array<const CD3DX12\_STATIC\_SAMPLER\_DESC, 6> GetStaticSamplers();}
\DoxyCodeLine{78 }
\DoxyCodeLine{79     \textcolor{keywordtype}{float} GetHillsHeight(\textcolor{keywordtype}{float} x, \textcolor{keywordtype}{float} z)\textcolor{keyword}{const};}
\DoxyCodeLine{80     XMFLOAT3 GetHillsNormal(\textcolor{keywordtype}{float} x, \textcolor{keywordtype}{float} z)\textcolor{keyword}{const};}
\DoxyCodeLine{81     \textcolor{keywordtype}{void} RegisterStates();}
\DoxyCodeLine{82     \textcolor{keywordtype}{void} CreateMesh();}
\DoxyCodeLine{83 }
\DoxyCodeLine{84 \textcolor{keyword}{private}:}
\DoxyCodeLine{85 }
\DoxyCodeLine{86     std::vector<std::unique\_ptr<FrameResource>> m\_FrameResources;}
\DoxyCodeLine{87     \mbox{\hyperlink{struct_frame_resource}{FrameResource}}* m\_CurrFrameResource = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{88     \textcolor{keywordtype}{int} m\_CurrFrameResourceIndex = 0;}
\DoxyCodeLine{89 }
\DoxyCodeLine{90     UINT m\_CbvSrvDescriptorSize = 0;}
\DoxyCodeLine{91 }
\DoxyCodeLine{92     ComPtr<ID3D12RootSignature> m\_RootSignature = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{93 }
\DoxyCodeLine{94     ComPtr<ID3D12DescriptorHeap> m\_SrvDescriptorHeap = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{95     std::map<std::string, std::unique\_ptr<Texture>> m\_Textures;}
\DoxyCodeLine{96     std::map<std::string, ComPtr<ID3DBlob>> m\_Shaders;}
\DoxyCodeLine{97     std::map<std::string, ComPtr<ID3D12PipelineState>> m\_PSOs;}
\DoxyCodeLine{98 }
\DoxyCodeLine{99     std::vector<D3D12\_INPUT\_ELEMENT\_DESC> m\_InputLayout;}
\DoxyCodeLine{100 }
\DoxyCodeLine{101     \mbox{\hyperlink{struct_pass_constants}{PassConstants}} m\_MainPassCB;}
\DoxyCodeLine{102 }
\DoxyCodeLine{103     XMFLOAT3 m\_EyePos = \{ 0.0f, 0.0f, 0.0f \};}
\DoxyCodeLine{104     XMFLOAT4X4 m\_View = \mbox{\hyperlink{class_math_helper_a68b4e9af95b1a36aad30ea80839f6b19}{MathHelper::Identity4x4}}();}
\DoxyCodeLine{105     XMFLOAT4X4 m\_Proj = \mbox{\hyperlink{class_math_helper_a68b4e9af95b1a36aad30ea80839f6b19}{MathHelper::Identity4x4}}();}
\DoxyCodeLine{106 }
\DoxyCodeLine{107     POINT m\_LastMousePos;}
\DoxyCodeLine{108 }
\DoxyCodeLine{109     \mbox{\hyperlink{class_world}{World}}* world = \textcolor{keyword}{new} \mbox{\hyperlink{class_world}{World}}();}
\DoxyCodeLine{110     \textcolor{keyword}{class }\mbox{\hyperlink{class_state}{State}}* m\_CurrentState;}
\DoxyCodeLine{111     \mbox{\hyperlink{struct_mesh_geometry}{MeshGeometry}}* \mbox{\hyperlink{class_state_a3adcdcb3e0e02f5dd40174928f5c64f9}{m\_Mesh}};}
\DoxyCodeLine{112 }
\DoxyCodeLine{113     \mbox{\hyperlink{class_state_stack}{StateStack}}    m\_StateStack;}
\DoxyCodeLine{114 \};}

\end{DoxyCode}
